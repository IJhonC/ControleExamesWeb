<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nova Conta</title>

    <!-- CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- BootStrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <!-- AOS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <style>
        body {
            height: 100vh;
            overflow: hidden;
        }
    </style>
</head>

<body class="d-flex justify-content-center align-items-center vh-100"
    style="  background: linear-gradient(to left, #4a90e2, #ffffff 60%);">

    <!-- FORMULÁRIO DE CADASTRO -->
    <form method="post" th:action="@{/admin/cadastrarUsuario}" class="container border rounded p-4 shadow bg-light"
        style="width: 400px">
        <h2 class="text-center mb-4">Cadastrar Usuário</h2>

        <!-- CAMPO NOME -->
        <div class="form-floating mb-3">
            <input type="text" id="nome" name="nome" class="form-control" placeholder="Nome" required>
            <label for="nome">Nome:</label>
        </div>

        <!-- CAMPO CPF -->
        <div class="form-floating mb-3">
            <input oninput="mascara(this)" type="text" id="cpf" name="cpf" class="form-control" placeholder="CPF"
                required>
            <label for="cpf">CPF:</label>
        </div>

        <!-- CAMPO EMAIL -->
        <div class="form-floating mb-3">
            <input type="email" id="email" name="email" class="form-control" placeholder="Email" required>
            <label for="email">Email:</label>
        </div>

        <div data-aos="zoom-in" th:if="${erro}" class="d-flex justify-content-center align-items-center" role="alert">
            <p style="color: red;">Este email já está em uso!</p>
        </div>


        <!-- CAMPO SEXO -->
        <div class="form-floating mb-3">
            <select class="form-select" name="sexo" id="sexo" required>
                <option value="Masculino">Masculino</option>
                <option value="Feminino">Feminino</option>
            </select>
            <label for="sexo">Sexo:</label>
        </div>

        <!-- CAMPO ROlE -->
        <div class="form-floating mb-3">
            <select class="form-select" name="role" id="role" required>
                <option value="ADMIN">Adiministrador</option>
                <option value="USER">Cliente</option>
            </select>
            <label for="role">Tipo de Usuário:</label>
        </div>

        <!-- CAMPO DATA NASCIMENTO -->
        <div class="form-floating mb-3">
            <input type="date" id="dataNascimento" name="dataNascimento" class="form-control" required>
            <label for="dataNascimento">Data de Nascimento:</label>
        </div>

        <!-- CAMPO SENHA -->
        <div class="form-floating mb-3">
            <input type="password" id="senha" name="senha" class="form-control" placeholder="Senha" required>
            <label for="senha">Senha:</label>
        </div>

        <button type="submit" class="btn btn-primary w-100">Cadastrar</button>

        <div class="text-center mt-2">
            <a class="btn btn-danger" href="/admin/admin-dashboard">Voltar</a>
        </div>

    </form>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            AOS.init();
        });

        function mascara(i) {

            var v = i.value;

            if (isNaN(v[v.length - 1])) { // impede entrar outro caractere que não seja número
                i.value = v.substring(0, v.length - 1);
                return;
            }

            i.setAttribute("maxlength", "14");
            if (v.length == 3 || v.length == 7) i.value += ".";
            if (v.length == 11) i.value += "-";

        }
    </script>

</body>

</html>